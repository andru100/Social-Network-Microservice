{"ast":null,"code":"var _jsxFileName = \"/home/dev/go/Social-Network-Microservice/frontend-react/src/routes/SignUp.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate, useEffect, Link } from 'react-router-dom';\nimport SendData from './SendData';\nimport SignUpHybrid from './SignUpHybrid';\nimport { useAlert } from \"react-alert\";\nimport RequestOTP from './RequestOTP';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RenderSignUp() {\n  _s();\n  const Navigate = useNavigate();\n  const alert = useAlert();\n  const [page, setPage] = React.useState(\"default\");\n  const [rendertype, setRenderType] = React.useState(\"username\");\n  const [username, setUsername] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [mobile, setMobile] = React.useState(\"\");\n  const [authtype, setAuthType] = React.useState(\"\");\n  const [address, setaddress] = React.useState(\"\");\n  const [mfachoice, setMfaChoice] = React.useState(\"unaassigned\");\n  const [userdata, setUserData] = React.useState({\n    Username: \"\",\n    Password: \"\"\n  });\n  async function SignUp() {\n    // sends username, password, email from input, backend then creates s3 bucket and stores details on mongodb\n\n    // const temp_username = document.getElementById('signupusername').value;\n    // const temp_password = document.getElementById('signuppass').value;\n    // const temp_email = document.getElementById('signupemail').value;\n    // const temp_mobile = document.getElementById('signupmobile').value;\n    // const temp_authtype = document.getElementById('authtype').value;\n\n    let signupdata = userdata;\n    rendertype.includes(\"confirm\") ? signupdata.RequestType = \"stage2\" : signupdata.RequestType = rendertype;\n    if (rendertype === \"username\") {\n      const username = document.getElementById('username').value;\n      const password = document.getElementById('password').value;\n      signupdata.Username = username;\n      signupdata.Password = password;\n    }\n    if (rendertype === \"email\") {\n      const email = document.getElementById('email').value;\n      signupdata.Email = email;\n      //setEmailOtp(email)\n    }\n\n    if (rendertype === \"sms\") {\n      const mobile = document.getElementById('sms').value;\n      signupdata.Mobile = mobile;\n    }\n    if (rendertype === \"confirmsms\") {\n      const sms = document.getElementById('smsotp').value;\n      signupdata.OTP_Mobile = sms;\n    }\n    if (rendertype === \"confirmemail\") {\n      const email = document.getElementById('emailotp').value;\n      signupdata.OTP_Email = email;\n    }\n    if (rendertype === \"oauth\") {\n      const passcode = document.getElementById('oauth').value;\n      signupdata.Oauth = passcode;\n    }\n\n    // if (rendertype === \"authtype\") {\n    //   const authtype = document.getElementById('authtype').value;\n    //   signupdata.Token = authtype\n    // }\n\n    if (rendertype === \"setsecurity\") {\n      //const mfa = document.getElementById('mfa').value;\n      signupdata.Token = mfachoice;\n    }\n    let gqlRequest = \"mutation SignUp ($data: SecurityCheckInput!){ SignUp(input: $data) { Token AuthType MobClue EmailClue } }\";\n    let response = await SendData(gqlRequest, {\n      data: signupdata\n    }, 'signup');\n    if (\"errors\" in response) {\n      // if password is a match redirect to profile page\n      console.log(\"error procceeding with sign up\", response.errors[0].message);\n      alertError(response.errors[0].message);\n    } else if (response.data.SignUp.Token == \"proceed\") {\n      // if password is a match redirect to profile page\n      //alert.show(\"Please enter OTP sent to your email\")\n      //setUsername(temp_username)\n      //setEmail(temp_email)\n      //setMobile(temp_mobile)\n      //setAuthType(temp_authtype)\n      setaddress([response.data.SignUp.MobClue, response.data.SignUp.EmailClue]);\n      signupdata.RequestType = response.data.SignUp.AuthType;\n      setUserData(signupdata);\n      setRenderType(response.data.SignUp.AuthType);\n    } else {\n      alert.show(\"Welcome to the club\");\n      localStorage.setItem('jwt_token', response.data.SignUp.Token); // Store JWT in storage\n      setPage(\"home\");\n    }\n  }\n  function alertError(error) {\n    const delimiter = '= ';\n    const start = 2;\n    const tokens = error.split(delimiter).slice(start);\n    const result = tokens.join(delimiter); // those.that\n    alert.show(result);\n  }\n  function SignIn() {\n    setPage(\"signin\");\n  }\n  function CheckUsername() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-t-31 p-b-9\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"txt1\",\n          children: \"Choose your username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        \"data-validate\": \"username is required\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input100\",\n          type: \"text\",\n          name: \"pass\",\n          id: \"username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"focus-input100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-t-13 p-b-9\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"txt1\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        \"data-validate\": \"Password is required\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input100\",\n          type: \"password\",\n          name: \"pas\",\n          id: \"pass1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"focus-input100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-t-13 p-b-9\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"txt1\",\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        \"data-validate\": \"Password is required\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input100\",\n          type: \"password\",\n          name: \"pas\",\n          id: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"focus-input100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true);\n  }\n  function CheckEmail() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-t-31 p-b-9\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"txt1\",\n          children: \"Enter your email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        \"data-validate\": \"email is required\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input100\",\n          type: \"text\",\n          name: \"pass\",\n          id: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"focus-input100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n  function CheckMobile() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-t-31 p-b-9\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"txt1\",\n          children: \"Enter your mobile no.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        \"data-validate\": \"mobile is required\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input100\",\n          type: \"text\",\n          name: \"pass\",\n          id: \"sms\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"focus-input100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n  function ConfirmSms() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-t-31 p-b-9\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"txt1\",\n          children: \"Enter code sent to *******\" + address[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        \"data-validate\": \"verification code is required\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input100\",\n          type: \"text\",\n          name: \"mobileotp\",\n          id: \"smsotp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"focus-input100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => ResendOTP(\"!sms\"),\n          children: \"resend code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => ChangeAuthType(),\n          children: \"dont have acccess to phone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-login100-form-btn m-t-17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n  function ConfirmEmail() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-t-31 p-b-9\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"txt1\",\n          children: \"Enter code sent to email \" + address[1] + \"*******\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        \"data-validate\": \"verification code is required\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input100\",\n          type: \"text\",\n          name: \"emailotp\",\n          id: \"emailotp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"focus-input100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => ResendOTP(\"!email\"),\n          children: \"resend code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => ChangeAuthType(),\n          children: \"dont have acccess to email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n  function AuthenticationSelector() {\n    const handleSMSChange = event => {\n      setMfaChoice(event.target.id);\n    };\n    const handleEmailChange = event => {\n      setMfaChoice(event.target.id);\n    };\n    const handleIsPasswordChange = event => {\n      setMfaChoice(event.target.id);\n    };\n    const handleHighSecChange = event => {\n      setMfaChoice(event.target.id);\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"sms\",\n          onChange: handleSMSChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 6\n        }, this), \"SMS\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"email\",\n          onChange: handleEmailChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 6\n        }, this), \"Email\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"password\",\n          onChange: handleIsPasswordChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 6\n        }, this), \"Password only\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"high\",\n          onChange: handleHighSecChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 6\n        }, this), \"High Security\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 5\n    }, this);\n  }\n  function Email() {\n    let isavailable = false;\n    isavailable ? /*#__PURE__*/_jsxDEV(ConfirmEmail, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(CheckEmail, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 37\n    }, this);\n  }\n\n  // function email () {\n  // \tswitch (isavailble) {\n  // \t\tcase \"false\":\n  // \t\t\treturn <CheckEmail />\n  // \t\tcase \"true\":\n  // \t\t\treturn <ConfirmEmail />\n\n  // }\n\n  function Verify() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-login100-form-btn m-t-17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-login100-form-btn m-t-17\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login100-form-btn\",\n          type: \"button\",\n          onClick: () => SignUp(),\n          children: \"verify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full text-center p-t-55\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPage(\"signup\"),\n          children: \"Back to account details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n  async function ResendOTP(requestType) {\n    RequestOTP(username, requestType, \"temp\").then(response => {\n      if (\"errors\" in response) {\n        console.log(\"error bak from otp request\", response.errors[0].message);\n        alertError(response.errors[0].message);\n      }\n    });\n  }\n  function ChangeAuthType() {\n    console.log(\"change auth type called\", setRenderType);\n    //fun is only called when type is sms as button only shown on that page. added switch from email for future\n    if (rendertype === \"sms\") {\n      ResendOTP(\"!email\");\n      setRenderType(\"email\");\n    } else {\n      ResendOTP(\"!sms\");\n      setRenderType(\"sms\");\n    }\n  }\n  function LandingPage() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [rendertype === \"username\" && /*#__PURE__*/_jsxDEV(CheckUsername, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 39\n      }, this), rendertype === \"email\" && /*#__PURE__*/_jsxDEV(CheckEmail, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 36\n      }, this), rendertype === \"sms\" && /*#__PURE__*/_jsxDEV(CheckMobile, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 34\n      }, this), rendertype === \"confirmsms\" && /*#__PURE__*/_jsxDEV(ConfirmSms, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 41\n      }, this), rendertype === \"confirmemail\" && /*#__PURE__*/_jsxDEV(ConfirmEmail, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 43\n      }, this), rendertype === \"setsecurity\" && /*#__PURE__*/_jsxDEV(AuthenticationSelector, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(Verify, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [page === \"default\" && /*#__PURE__*/_jsxDEV(LandingPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 30\n    }, this), page === \"home\" && /*#__PURE__*/_jsxDEV(Home, {\n      sessionuser: userdata.Username,\n      page: \"home\",\n      viewing: userdata.Username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 24\n    }, this), page === \"signin\" && /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true);\n}\n_s(RenderSignUp, \"S8vrsdUk4lbqMQTXSY1POIk5q7E=\", false, function () {\n  return [useNavigate, useAlert];\n});\n_c = RenderSignUp;\nvar _c;\n$RefreshReg$(_c, \"RenderSignUp\");","map":{"version":3,"names":["React","useNavigate","useEffect","Link","SendData","SignUpHybrid","useAlert","RequestOTP","RenderSignUp","Navigate","alert","page","setPage","useState","rendertype","setRenderType","username","setUsername","password","setPassword","email","setEmail","mobile","setMobile","authtype","setAuthType","address","setaddress","mfachoice","setMfaChoice","userdata","setUserData","Username","Password","SignUp","signupdata","includes","RequestType","document","getElementById","value","Email","Mobile","sms","OTP_Mobile","OTP_Email","passcode","Oauth","Token","gqlRequest","response","data","console","log","errors","message","alertError","MobClue","EmailClue","AuthType","show","localStorage","setItem","error","delimiter","start","tokens","split","slice","result","join","SignIn","CheckUsername","CheckEmail","CheckMobile","ConfirmSms","ResendOTP","ChangeAuthType","ConfirmEmail","AuthenticationSelector","handleSMSChange","event","target","id","handleEmailChange","handleIsPasswordChange","handleHighSecChange","isavailable","Verify","requestType","then","LandingPage"],"sources":["/home/dev/go/Social-Network-Microservice/frontend-react/src/routes/SignUp.jsx"],"sourcesContent":["import React from 'react';\nimport { useNavigate, useEffect, Link } from 'react-router-dom';\nimport SendData from './SendData';\nimport SignUpHybrid from './SignUpHybrid';\nimport { useAlert } from \"react-alert\";\nimport RequestOTP from './RequestOTP';\n\n\n\nexport default function RenderSignUp () {\n\n\tconst Navigate = useNavigate();\n\tconst alert = useAlert()\n\tconst [page, setPage] = React.useState(\"default\");\n\tconst [rendertype, setRenderType] = React.useState(\"username\"); \n\tconst [username, setUsername] = React.useState(\"\");\n\tconst [password, setPassword] = React.useState(\"\");\n\tconst [email, setEmail] = React.useState(\"\");\n\tconst [mobile, setMobile] = React.useState(\"\");\n\tconst [authtype, setAuthType] = React.useState(\"\");\n\tconst [address, setaddress] = React.useState(\"\");\n\n\tconst [mfachoice, setMfaChoice] = React.useState(\"unaassigned\");\n\tconst [userdata, setUserData] = React.useState({\n    Username: \"\",\n    Password: \"\",\n  });\n\n  async function SignUp () { // sends username, password, email from input, backend then creates s3 bucket and stores details on mongodb\n  \n    // const temp_username = document.getElementById('signupusername').value;\n    // const temp_password = document.getElementById('signuppass').value;\n    // const temp_email = document.getElementById('signupemail').value;\n    // const temp_mobile = document.getElementById('signupmobile').value;\n    // const temp_authtype = document.getElementById('authtype').value;\n\n    let signupdata = userdata\n\n\trendertype.includes(\"confirm\") ? signupdata.RequestType = \"stage2\" : signupdata.RequestType = rendertype\n    \n\n    if (rendertype === \"username\") {\n\t\tconst username = document.getElementById('username').value;\n      const password = document.getElementById('password').value;\n      signupdata.Username = username\n      signupdata.Password = password\n\t}\n\tif (rendertype === \"email\") {\n\t\tconst email = document.getElementById('email').value;\n\t\tsignupdata.Email = email\n\t\t//setEmailOtp(email)\n\t}\n\n\tif (rendertype === \"sms\") {\n\t\tconst mobile = document.getElementById('sms').value;\n\t\tsignupdata.Mobile = mobile\n\t}\n\n\tif (rendertype === \"confirmsms\") {\n\t\tconst sms = document.getElementById('smsotp').value;\n\t\tsignupdata.OTP_Mobile = sms\n\t}\n\n\tif (rendertype === \"confirmemail\") {\n\t\tconst email = document.getElementById('emailotp').value;\n\t\tsignupdata.OTP_Email = email\n\t}\n\n\n\tif (rendertype === \"oauth\") {\n\t\tconst passcode = document.getElementById('oauth').value;\n\t\tsignupdata.Oauth = passcode\n\t}\n\n    // if (rendertype === \"authtype\") {\n    //   const authtype = document.getElementById('authtype').value;\n    //   signupdata.Token = authtype\n    // }\n\n\tif (rendertype === \"setsecurity\") {\n\t\t//const mfa = document.getElementById('mfa').value;\n\t\tsignupdata.Token = mfachoice\n\t}\n\tlet gqlRequest = \"mutation SignUp ($data: SecurityCheckInput!){ SignUp(input: $data) { Token AuthType MobClue EmailClue } }\"\n\t\n\tlet response = await SendData(gqlRequest, {data:signupdata}, 'signup')\n\t\n\tif ( \"errors\" in response ){ // if password is a match redirect to profile page\n\tconsole.log(\"error procceeding with sign up\", response.errors[0].message )\n\talertError(response.errors[0].message)\n\t\n\t\n\t} else if ( response.data.SignUp.Token == \"proceed\" ){ // if password is a match redirect to profile page\n\t//alert.show(\"Please enter OTP sent to your email\")\n\t//setUsername(temp_username)\n\t//setEmail(temp_email)\n\t//setMobile(temp_mobile)\n\t//setAuthType(temp_authtype)\n\t\tsetaddress([response.data.SignUp.MobClue, response.data.SignUp.EmailClue])\n\t\tsignupdata.RequestType = response.data.SignUp.AuthType\n\t\tsetUserData(signupdata)\n\t\tsetRenderType(response.data.SignUp.AuthType)\n\t} else {\n\t\talert.show(\"Welcome to the club\")\n\t\tlocalStorage.setItem('jwt_token', response.data.SignUp.Token) // Store JWT in storage\n\t\tsetPage(\"home\")\n\t}\n  }\n\n  function alertError(error){\n\t\tconst delimiter = '= '\n\t\tconst start = 2\n\t\tconst tokens = error.split(delimiter).slice(start)\n\t\tconst result = tokens.join(delimiter); // those.that\n\t\talert.show(result)\n\t}\n\n  function SignIn () {\n    setPage(\"signin\")\n  }\n\n  function CheckUsername () {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"p-t-31 p-b-9\">\n\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\tChoose your username\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"username is required\">\n\t\t\t\t\t<input className=\"input100\" type=\"text\" name=\"pass\" id=\"username\"/>\n\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t</div>\n        <div className=\"p-t-13 p-b-9\">\n\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\tPassword\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"Password is required\">\n\t\t\t\t<input className=\"input100\" type=\"password\" name=\"pas\" id=\"pass1\" />\n\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t</div>\n      <div className=\"p-t-13 p-b-9\">\n\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\tConfirm Password\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"Password is required\">\n\t\t\t\t<input className=\"input100\" type=\"password\" name=\"pas\" id=\"password\" />\n\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t</>\n\t\t)\n\t}\n\n  function CheckEmail () {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"p-t-31 p-b-9\">\n\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\tEnter your email address\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"email is required\">\n\t\t\t\t\t<input className=\"input100\" type=\"text\" name=\"pass\" id=\"email\"/>\n\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t</>\n\t\t)\n\t}\n\n  function CheckMobile () {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"p-t-31 p-b-9\">\n\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\tEnter your mobile no.\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"mobile is required\">\n\t\t\t\t\t<input className=\"input100\" type=\"text\" name=\"pass\" id=\"sms\"/>\n\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t</>\n\t\t)\n\t}\n\n  function ConfirmSms () {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"p-t-31 p-b-9\">\n\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\t{\"Enter code sent to *******\" + address[0]}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"verification code is required\">\n\t\t\t\t\t<input className=\"input100\" type=\"text\" name=\"mobileotp\" id=\"smsotp\"/>\n\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t</div>\n\t\t\t\t<div >\n\t\t\t\t\t<button  type=\"button\" onClick={() => ResendOTP(\"!sms\")}>\n\t\t\t\t\t\tresend code\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div >\n\t\t\t\t\t<button  type=\"button\" onClick={() => ChangeAuthType()}>\n\t\t\t\t\t\tdont have acccess to phone\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\n\t\t\t\t</div>\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction ConfirmEmail () {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"p-t-31 p-b-9\">\n\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\t{\"Enter code sent to email \" + address[1] + \"*******\"}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"verification code is required\">\n\t\t\t\t\t<input className=\"input100\" type=\"text\" name=\"emailotp\" id=\"emailotp\"/>\n\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t</div>\n\t\t\t\t<div >\n\t\t\t\t\t<button  type=\"button\" onClick={() => ResendOTP(\"!email\")}>\n\t\t\t\t\t\tresend code\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div >\n\t\t\t\t\t<button  type=\"button\" onClick={() => ChangeAuthType()}>\n\t\t\t\t\t\tdont have acccess to email\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction AuthenticationSelector() {\n\t  \n\t\tconst handleSMSChange = (event) => {\n\t\t  setMfaChoice(event.target.id);\n\t\t};\n\t  \n\t\tconst handleEmailChange = (event) => {\n\t\t  setMfaChoice(event.target.id);\n\t\t};\n\n\t\tconst handleIsPasswordChange = (event) => {\n\t\t\tsetMfaChoice(event.target.id);\n\t\t}\n\n\t\tconst handleHighSecChange = (event) => {\n\t\t\tsetMfaChoice(event.target.id);\n\t\t}\n\t  \n\t\treturn (\n\t\t  <div>\n\t\t\t<label>\n\t\t\t  <input type=\"checkbox\" id=\"sms\" onChange={handleSMSChange} />\n\t\t\t  SMS\n\t\t\t</label>\n\t\t\t<label>\n\t\t\t  <input type=\"checkbox\" id=\"email\" onChange={handleEmailChange} />\n\t\t\t  Email\n\t\t\t</label>\n\t\t\t<label>\n\t\t\t  <input type=\"checkbox\" id=\"password\" onChange={handleIsPasswordChange} />\n\t\t\t  Password only\n\t\t\t</label>\n\t\t\t<label>\n\t\t\t  <input type=\"checkbox\" id=\"high\" onChange={handleHighSecChange} />\n\t\t\t  High Security\n\t\t\t</label>\n\t\t  </div>\n\t\t);\n\t}\n\t\t\n\n\tfunction Email () {\n\t\tlet isavailable = false\n\t\tisavailable ?  <ConfirmEmail /> : <CheckEmail /> \n\t}\n\n\t// function email () {\n\t// \tswitch (isavailble) {\n\t// \t\tcase \"false\":\n\t// \t\t\treturn <CheckEmail />\n\t// \t\tcase \"true\":\n\t// \t\t\treturn <ConfirmEmail />\n\t\t\n\t// }\n\n  function Verify () {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t\n\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\n\t\t\t\t</div>\n\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\n\t\t\t\t\t<button className=\"login100-form-btn\" type=\"button\" onClick={() =>SignUp()}>\n\t\t\t\t\t\tverify\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"w-full text-center p-t-55\">\n\t\t\t\t\t<button onClick={() => setPage(\"signup\")}>Back to account details</button>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t)\n\t}\n\n  async function ResendOTP (requestType) {\n\t\tRequestOTP(username, requestType, \"temp\").then((response) => {\n\t\t\tif (( \"errors\" in response )) {\n\t\t\t\tconsole.log(\"error bak from otp request\", response.errors[0].message)\n\t\t\t\talertError(response.errors[0].message)\n\t\t\t}\n\t\t})\n\t}\n\n  function ChangeAuthType () {\n\n\t\tconsole.log(\"change auth type called\", setRenderType)\n\t\t//fun is only called when type is sms as button only shown on that page. added switch from email for future\n\t\tif (rendertype === \"sms\") {\n\t\t\tResendOTP(\"!email\")\n\t\t\tsetRenderType(\"email\")\n\t\t\t\n\t\t} else {\n\t\t\tResendOTP(\"!sms\")\n\t\t\tsetRenderType(\"sms\")\n\t\t\t\n\t\t}\n\t}\n\n\n\n  function LandingPage () {\n    return (\n      <>\n        {rendertype === \"username\" && <CheckUsername />}\n        {rendertype === \"email\" && <CheckEmail />}\n        {rendertype === \"sms\" && <CheckMobile />}\n        {rendertype === \"confirmsms\" && <ConfirmSms />}\n        {rendertype === \"confirmemail\" && <ConfirmEmail />}\n\t\t{rendertype === \"setsecurity\" && <AuthenticationSelector />}\n        <Verify />\n      </>\n    )\n  }\n  \n\n  return (\n    <>\n   \n      {page === \"default\" && <LandingPage/>}\n\t  {page === \"home\" && <Home sessionuser={userdata.Username} page={\"home\"} viewing={userdata.Username} />}\n      {page === \"signin\" && <SignIn/>}\n\n    \n    </> \n  );\n\n  \n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}